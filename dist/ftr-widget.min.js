!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["flytree-widget"]=t():e["flytree-widget"]=t()}(window,(function(){return function(e){var t=window.webpackHotUpdateflytree_widget;window.webpackHotUpdateflytree_widget=function(e,r){!function(e,t){if(b[e]&&y[e]){for(var r in y[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(f[r]=t[r]);0==--w&&0===m&&O()}}(e,r),t&&t(e,r)};var r,n=!0,o="27bb87b177c60e054f9b",i={},a=[],s=[];function c(e){var t=M[e];if(!t)return P;function n(n){return t.hot.active?(M[n]?-1===M[n].parents.indexOf(e)&&M[n].parents.push(e):(a=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),a=[]),P(n)}for(var o in P)Object.prototype.hasOwnProperty.call(P,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,function(e){return{configurable:!0,enumerable:!0,get:function(){return P[e]},set:function(t){P[e]=t}}}(o));return n.e=function(e){return"ready"===p&&d("prepare"),m++,P.e(e).then(t,(function(e){throw t(),e}));function t(){m--,"prepare"===p&&(g[e]||L(e),0===m&&0===w&&O())}},n.t=function(e,t){return 1&t&&(e=n(e)),P.t(e,-2&t)},n}var l=[],p="idle";function d(e){p=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var u,f,h,v,w=0,m=0,g={},y={},b={};function x(e){return+e+""===e?+e:e}function k(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return n=e,d("check"),t=(t=1e4)||1e4,new Promise((function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=P.p+""+o+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(t){return void r(t)}e(t)}}})).then((function(e){return e?(y={},g={},b=e.c,h=e.h,d("prepare"),e=new Promise((function(e,t){u={resolve:e,reject:t}})),f={},L(0),"prepare"===p&&0===m&&0===w&&O(),e):(d(S()?"ready":"idle"),null)}));var t}function L(e){var t,r;b[e]?(y[e]=!0,w++,t=e,(r=document.createElement("script")).charset="utf-8",r.src=P.p+""+t+"."+o+".hot-update.js",document.head.appendChild(r)):g[e]=!0}function O(){d("ready");var e=u;if(u=null,e)if(n)Promise.resolve().then((function(){return j(n)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t,r=[];for(t in f)Object.prototype.hasOwnProperty.call(f,t)&&r.push(x(t));e.resolve(r)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(n){var s,c,l,p;function u(e){for(var t=[e],r={},n=t.map((function(e){return{chain:[e],id:e}}));0<n.length;){var o=n.pop(),i=o.id,a=o.chain;if((p=M[i])&&(!p.hot._selfAccepted||p.hot._selfInvalidated)){if(p.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(p.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var s=0;s<p.parents.length;s++){var c=p.parents[s],l=M[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(r[c]||(r[c]=[]),w(r[c],[i])):(delete r[c],t.push(c),n.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}S();var m={},g=[],y={},k=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var L in f)if(Object.prototype.hasOwnProperty.call(f,L)){var O;H=x(L);var j=!1,C=!1,D=!1,E="";switch((O=f[L]?u(H):{type:"disposed",moduleId:L}).chain&&(E="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":n.onDeclined&&n.onDeclined(O),n.ignoreDeclined||(j=new Error("Aborted because of self decline: "+O.moduleId+E));break;case"declined":n.onDeclined&&n.onDeclined(O),n.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+E));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(O),n.ignoreUnaccepted||(j=new Error("Aborted because "+H+" is not accepted"+E));break;case"accepted":n.onAccepted&&n.onAccepted(O),C=!0;break;case"disposed":n.onDisposed&&n.onDisposed(O),D=!0;break;default:throw new Error("Unexception type "+O.type)}if(j)return d("abort"),Promise.reject(j);if(C)for(var H in y[H]=f[H],w(g,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,H)&&(m[H]||(m[H]=[]),w(m[H],O.outdatedDependencies[H]));D&&(w(g,[O.moduleId]),y[H]=k)}var T,_=[];for(c=0;c<g.length;c++)H=g[c],M[H]&&M[H].hot._selfAccepted&&y[H]!==k&&!M[H].hot._selfInvalidated&&_.push({module:H,parents:M[H].parents.slice(),errorHandler:M[H].hot._selfAccepted});d("dispose"),Object.keys(b).forEach((function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)}));for(var R,q,A=g.slice();0<A.length;)if(H=A.pop(),p=M[H]){var I={},z=p.hot._disposeHandlers;for(l=0;l<z.length;l++)(s=z[l])(I);for(i[H]=I,p.hot.active=!1,delete M[H],delete m[H],l=0;l<p.children.length;l++){var F=M[p.children[l]];F&&0<=(T=F.parents.indexOf(H))&&F.parents.splice(T,1)}}for(H in m)if(Object.prototype.hasOwnProperty.call(m,H)&&(p=M[H]))for(q=m[H],l=0;l<q.length;l++)R=q[l],0<=(T=p.children.indexOf(R))&&p.children.splice(T,1);for(H in d("apply"),void 0!==h&&(o=h,h=void 0),f=void 0,y)Object.prototype.hasOwnProperty.call(y,H)&&(e[H]=y[H]);var U=null;for(H in m)if(Object.prototype.hasOwnProperty.call(m,H)&&(p=M[H])){q=m[H];var B=[];for(c=0;c<q.length;c++)R=q[c],(s=p.hot._acceptedDependencies[R])&&-1===B.indexOf(s)&&B.push(s);for(c=0;c<B.length;c++){s=B[c];try{s(q)}catch(t){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:H,dependencyId:q[c],error:t}),n.ignoreErrored||(U=U||t)}}}for(c=0;c<_.length;c++){var V=_[c];H=V.module,a=V.parents,r=H;try{P(H)}catch(s){if("function"==typeof V.errorHandler)try{V.errorHandler(s)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:H,error:t,originalError:s}),U=(U=n.ignoreErrored?U:U||t)||s}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:H,error:s}),n.ignoreErrored||(U=U||s)}}return U?(d("fail"),Promise.reject(U)):v?t(n).then((function(e){return g.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(d("idle"),new Promise((function(e){e(g)})))}(t=t||{})}function S(){return v&&(f=f||{},v.forEach(C),v=void 0,1)}function C(t){Object.prototype.hasOwnProperty.call(f,t)||(f[t]=e[t])}var M={};function P(t){if(M[t])return M[t].exports;var n,o,u=M[t]={i:t,l:!1,exports:{},hot:(o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:r!==(n=t),active:!0,accept:function(e,t){if(void 0===e)o._selfAccepted=!0;else if("function"==typeof e)o._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)o._acceptedDependencies[e[r]]=t||function(){};else o._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)o._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)o._declinedDependencies[e[t]]=!0;else o._declinedDependencies[e]=!0},dispose:function(e){o._disposeHandlers.push(e)},addDisposeHandler:function(e){o._disposeHandlers.push(e)},removeDisposeHandler:function(e){0<=(e=o._disposeHandlers.indexOf(e))&&o._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(f={})[n]=e[n],d("ready");break;case"ready":C(n);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(n)}},check:k,apply:j,status:function(e){if(!e)return p;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){0<=(e=l.indexOf(e))&&l.splice(e,1)},data:i[n]},r=void 0,o),parents:(s=a,a=[],s),children:[]};return e[t].call(u.exports,u,u.exports,c(t)),u.l=!0,u.exports}return P.m=e,P.c=M,P.d=function(e,t,r){P.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},P.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.t=function(e,t){if(1&t&&(e=P(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(P.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)P.d(r,n,function(t){return e[t]}.bind(null,n));return r},P.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return P.d(t,"a",t),t},P.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},P.p="",P.h=function(){return o},c(13)(P.s=13)}([function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];return n?t&&"function"==typeof btoa?(e=function(e){return e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(e," */")}(n),t=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")})),[r].concat(t).concat([e]).join("\n")):[r].join("\n"):r}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);n&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},function(e,t,r){"use strict";e.exports=function(e,t){return t=t||{},"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/svg+xml,%3csvg viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23F5F6F8' stroke='%23F5F6F8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cg clip-path='url(%23clip0)'%3e %3crect width='7' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23E8C547' stroke='%23E8C547' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/g%3e %3cg clip-path='url(%23clip1)'%3e %3crect width='7' height='13' transform='translate(7)' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23F5F6F8' stroke='%23F5F6F8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0'%3e %3crect width='7' height='13' fill='white'/%3e %3c/clipPath%3e %3cclipPath id='clip1'%3e %3crect width='7' height='13' fill='white' transform='translate(7)'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23E8C547' stroke='%23E8C547' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M9 1L1 9' stroke='%238A9F99' stroke-linecap='round' stroke-linejoin='round'/%3e %3cpath d='M1 1L9 9' stroke='%238A9F99' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t,r){var n=r(0),o=r(1),i=r(9),a=r(2),s=r(3);r=r(4);t=n(!1),i=o(i),a=o(a),s=o(s),r=o(r),t.push([e.i,"#wrapper div{display:block;background:#fff}#wrapper{left:0;bottom:2vh;z-index:999;display:block;position:fixed;min-width:200px;max-width:320px;color:#1d1d1d;font-style:normal;font-family:sans-serif,Open Sans}#wrapper .top-line{height:8px;background-color:#295a4c}#content{cursor:pointer;font-size:13px;line-height:21px;padding:13px 25px 13px 17px;border-top:1px solid #ebeff2;border-right:1px solid #ebeff2;border-bottom:1px solid #ebeff2}#content .name{font-size:15px;line-height:24px}#content .reviews{color:#8a9f99}#content .rating-wrapper{display:flex}#content .chevron{top:48%;right:5px;width:16px;height:16px;opacity:.5;position:absolute;background-size:contain;background:url("+i+") no-repeat 0 0}#content:hover .chevron{opacity:1}#content .stars{margin:0 10px}#content .stars span{width:16px;height:16px;display:inline-block}#content .stars span.none{background-size:contain;background:url("+a+") no-repeat 0 0}#content .stars span.half{background-size:contain;background:url("+s+") no-repeat 0 0}#content .stars span.full{background-size:contain;background:url("+r+") no-repeat 0 0}",""]),e.exports=t},function(e,t,r){var n=r(0),o=r(1),i=r(2),a=r(3),s=r(4),c=r(5),l=r(10),p=r(11);r=r(12);(t=n(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap);"]),i=o(i),a=o(a),s=o(s),c=o(c),l=o(l),p=o(p),r=o(r),t.push([e.i,"::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb:hover{background:#555}#modal-wrapper{z-index:10000;position:relative;opacity:0;display:none}#modal-wrapper.opened{opacity:1;display:block}#modal-wrapper #modal-overlay{top:0;width:100%;height:100%;z-index:10001;display:block;position:fixed;background:hsla(0,0%,100%,.75)}#modal-wrapper #modal-content{top:0;left:0;width:375px;height:100vh;z-index:10002;position:fixed;background:#fff;box-shadow:0 0 18px rgba(54,54,54,.07)}#modal-wrapper #modal-content .stars{margin-top:1px;display:flex;align-items:center}#modal-wrapper #modal-content .stars span{width:14px;height:13px;display:inline-block}#modal-wrapper #modal-content .stars span.none{background-size:cover;background:url("+i+") no-repeat 0 0;margin-right:2px}#modal-wrapper #modal-content .stars span.half{background-size:cover;background:url("+a+") no-repeat 0 0;margin-right:2px}#modal-wrapper #modal-content .stars span.full{background-size:cover;background:url("+s+") no-repeat 0 0;margin-right:2px}#modal-wrapper #modal-content .header{display:flex;color:#1d1d1d;padding:21px 16px 0;font-family:Open Sans}#modal-wrapper #modal-content .header .shop{flex:1;display:flex;position:relative;margin-bottom:24px}#modal-wrapper #modal-content .header .shop .avatar{width:62px;height:62px;display:flex;font-size:24px;color:#fff;text-align:center;align-items:center;justify-content:center;border-radius:9999px;box-sizing:border-box;font-family:sans-serif;margin-right:24px}#modal-wrapper #modal-content .header .shop .avatar img{width:100%;height:100%}#modal-wrapper #modal-content .header .shop .avatar span{width:100%;height:100%;display:flex;text-align:center;align-items:center;justify-content:center;background:#295a4c;border-radius:9999px}#modal-wrapper #modal-content .header .shop .info{flex:1;font-size:15px;line-height:24px}#modal-wrapper #modal-content .header .shop .info .name{font-weight:600;margin-bottom:6px}#modal-wrapper #modal-content .header .shop .info .rating-wrapper{display:flex;align-items:center}#modal-wrapper #modal-content .header .shop .info .rating-wrapper .rating{font-weight:400;margin-right:8px}#modal-wrapper #modal-content .header .shop .info .rating-wrapper .stars span{width:17px;height:18px}#modal-wrapper #modal-content .header .shop .info .review-count{color:#8a9f99;font-size:13px}#modal-wrapper #modal-content .header .dismiss-btn{width:30px;height:30px;cursor:pointer;background-size:cover;background:url("+c+") no-repeat 0 0}#modal-wrapper #modal-content .controls{padding:10px 16px 16px}#modal-wrapper #modal-content .controls .sort{color:#282828;font-size:16px;font-weight:300;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:url("+l+") no-repeat 100%;border:none;border-radius:0;padding:0 2em 0 .35em}#modal-wrapper #modal-content .reviews{overflow-y:auto;max-height:calc(100% - 230px);color:#282828;font-size:15px;line-height:24px;font-style:normal;font-weight:400;font-family:Open Sans}#modal-wrapper #modal-content .reviews .review{padding:27px 16px;border-top:1px solid #ebeff2}#modal-wrapper #modal-content .reviews .review .meta{display:flex}#modal-wrapper #modal-content .reviews .review .meta .avatar{width:43px;height:43px;display:flex;font-size:18px;color:#fff;text-align:center;align-items:center;justify-content:center;border-radius:9999px;box-sizing:border-box;margin-right:24px;font-family:sans-serif}#modal-wrapper #modal-content .reviews .review .meta .avatar img{width:100%;height:100%}#modal-wrapper #modal-content .reviews .review .meta .avatar span{width:100%;height:100%;display:flex;text-align:center;align-items:center;justify-content:center;background:#295a4c;border-radius:9999px}#modal-wrapper #modal-content .reviews .review .meta .info{flex:1}#modal-wrapper #modal-content .reviews .review .meta .info .name{font-weight:600}#modal-wrapper #modal-content .reviews .review .meta .info .rating-wrapper{display:flex}#modal-wrapper #modal-content .reviews .review .meta .info .rating-wrapper .stars{margin-right:17px}#modal-wrapper #modal-content .reviews .review .meta .info .rating-wrapper .time{font-size:13px;color:#8a9f99}#modal-wrapper #modal-content .reviews .review .meta .channel{display:inline-flex}#modal-wrapper #modal-content .reviews .review .meta .channel span{width:27px;background-size:cover}#modal-wrapper #modal-content .reviews .review .meta .channel span.google{background:url("+p+") no-repeat 0 0}#modal-wrapper #modal-content .reviews .review .meta .channel span.internal{background:url("+r+") no-repeat 0 0}#modal-wrapper #modal-content .reviews .review .message{font-size:14px;margin:16px 0}#modal-wrapper #modal-content .reviews .review .feedback .reply-wrapper{display:block;margin-top:10px;margin-left:16px;padding-left:16px;border-left:1px solid #8a9f99}#modal-wrapper #modal-content .reviews .review .feedback .reply-wrapper .replyfrom{font-weight:600}#modal-wrapper #modal-content .footer{left:16px;width:343px;height:40px;bottom:10px;display:flex;font-weight:300;color:#8a9f99;font-size:13px;line-height:24px;border-radius:8px;position:absolute;align-items:center;background:#fff;font-family:Open Sans;justify-content:center}",""]),e.exports=t},function(e,t,r){var n=r(0),o=r(1),i=r(2),a=r(3),s=r(4);r=r(5);(t=n(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;600&display=swap);"]),i=o(i),a=o(a),s=o(s),r=o(r),t.push([e.i,"#wrapper{left:12px;width:352px;bottom:-100px;min-width:auto;z-index:999;display:block;position:fixed;color:#1d1d1d;font-style:normal;font-family:Roboto,sans-serif;font-weight:300}@media (max-width:600px){#wrapper{max-width:calc(100% - 24px)}}#wrapper #content{position:relative;display:flex;cursor:default;font-size:13px;color:#505050;line-height:21px;background:#fff;border-radius:16px;box-shadow:0 2px 15px -2px rgba(60,60,60,.25)}#wrapper #content.popup{cursor:pointer}#wrapper #content .avatar{width:64px;height:64px;margin:10px;display:flex}#wrapper #content .avatar img{width:100%;height:100%;border-radius:100%;-o-object-fit:contain;object-fit:contain}#wrapper #content .avatar span{width:100%;height:100%;color:#fff;font-size:16px;font-weight:400;border-radius:100%;background:#295a4c;display:flex;align-items:center;justify-content:center}@media (max-width:600px){#wrapper #content .avatar{width:24px;height:24px}#wrapper #content .avatar span{font-size:14px}#wrapper #content .review{display:none}}#wrapper #content .review-wrapper{flex:1;padding:10px 0}#wrapper #content .review-wrapper .name-wrapper{font-weight:400;display:block;font-size:14px;padding-right:6px;box-sizing:border-box}#wrapper #content .review-wrapper .name{color:#5cc0eb;font-weight:600;margin-right:3px}#wrapper #content .review-wrapper .rating-str{color:#1d1d1d}#wrapper #content .review-wrapper .review{margin:3px 0 2px;font-weight:300}#wrapper #content .review-wrapper .rating-wrapper{display:flex;font-size:11px;font-weight:300;align-items:center}#wrapper #content .review-wrapper .channel{color:#8a9f99;flex:1}#wrapper #content .review-wrapper .stars{margin:5px 5px 0 0}#wrapper #content .review-wrapper .stars span{width:14px;height:13px;display:inline-block}#wrapper #content .review-wrapper .stars span.none{background-size:cover;background:url("+i+") no-repeat 0 0;margin-right:2px}#wrapper #content .review-wrapper .stars span.half{background-size:cover;background:url("+a+") no-repeat 0 0;margin-right:2px}#wrapper #content .review-wrapper .stars span.full{background-size:cover;background:url("+s+") no-repeat 0 0;margin-right:2px}#wrapper .dismiss{position:absolute;left:0;top:-12px;padding:2px;border-radius:28px;opacity:0;width:20px;height:20px;background-size:contain;background:url("+r+") no-repeat 50%;background-color:#fff;transition:all .1s linear;-webkit-transition:all .1s linear}#wrapper .dismiss:hover{background-color:#d3d3d3}#wrapper #controls{height:0;opacity:0;display:flex;overflow:hidden;margin-top:13px;align-items:flex-end;justify-content:flex-end;transition:all .2s linear;-webkit-transition:all .2s linear;width:100%;position:relative}#wrapper #controls .seemore{position:absolute;right:0;padding:10px 16px;color:#295a4c;background:#fff;cursor:pointer;font-size:12px;border-radius:16px;border:1px solid #295a4c;box-shadow:0 2px 15px -2px rgba(60,60,60,.25)}#wrapper #controls .seemore:hover{color:#fff;background-color:#295a4c}#wrapper #controls .flytreePowered{font-size:12px;position:absolute;left:0;padding:12px;text-shadow:0 5px 20px rgba(60,60,60,.25)}#wrapper #controls .flytreePowered a{text-decoration:none;color:#295a4c}#wrapper #controls .flytreePowered a:hover{text-decoration:underline}#wrapper .full-review{opacity:0;height:0}#wrapper:hover{padding:32px 32px 0 0}#wrapper:hover .dismiss{opacity:1}#wrapper:hover #controls{height:40px;opacity:1}#wrapper:hover .full-review{opacity:1;height:auto;margin:6px 10px 10px 0}#wrapper:hover .review{display:none}#wrapper.dismissed{height:0;overflow:hidden}#wrapper.slide-down{bottom:-160px;transition:bottom .5s linear}#wrapper.slide-up{bottom:12px;transition:bottom .5s cubic-bezier(.68,-.55,.265,1.55)}",""]),e.exports=t},function(e,t){e.exports="data:image/svg+xml,%3csvg width='8' height='14' viewBox='0 0 8 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M1 13L7 7L1 1' stroke='%23295A4C' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-chevron-down' viewBox='0 0 16 16'%3e %3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M30.0014 16.3109C30.0014 15.1598 29.9061 14.3198 29.6998 13.4487H16.2871V18.6442H24.1601C24.0014 19.9354 23.1442 21.8798 21.2394 23.1864L21.2127 23.3604L25.4536 26.58L25.7474 26.6087C28.4458 24.1665 30.0014 20.5731 30.0014 16.3109Z' fill='%234285F4'/%3e %3cpath d='M16.2863 30C20.1434 30 23.3814 28.7555 25.7466 26.6089L21.2386 23.1865C20.0323 24.011 18.4132 24.5866 16.2863 24.5866C12.5086 24.5866 9.30225 22.1444 8.15929 18.7688L7.99176 18.7827L3.58208 22.1272L3.52441 22.2843C5.87359 26.8577 10.699 30 16.2863 30Z' fill='%2334A853'/%3e %3cpath d='M8.16013 18.769C7.85855 17.8979 7.68401 16.9645 7.68401 16.0001C7.68401 15.0356 7.85855 14.1023 8.14426 13.2312L8.13627 13.0456L3.67132 9.64746L3.52524 9.71556C2.55703 11.6134 2.00146 13.7445 2.00146 16.0001C2.00146 18.2556 2.55703 20.3867 3.52524 22.2845L8.16013 18.769Z' fill='%23FBBC05'/%3e %3cpath d='M16.2864 7.4133C18.9689 7.4133 20.7784 8.54885 21.8102 9.4978L25.8419 5.64C23.3658 3.38445 20.1435 2 16.2864 2C10.699 2 5.8736 5.1422 3.52441 9.71549L8.14345 13.2311C9.30229 9.85555 12.5086 7.4133 16.2864 7.4133Z' fill='%23EB4335'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg viewBox='0 0 475 572' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M302.737 174.513L257.417 216.249V141.14C257.417 133.538 251.16 127.331 243.504 127.331C235.838 127.331 229.612 133.546 229.612 141.14V290.162L184.265 248.402L184.262 248.399L184.259 248.397C178.558 243.169 169.798 243.549 164.618 249.106L164.616 249.108L164.614 249.111C159.371 254.758 159.753 263.452 165.331 268.583L229.612 327.746V395.827H145.346C84.0362 395.733 34.8061 352.221 34.8061 299.483C34.8061 267.423 52.9952 237.44 83.8105 219.444L83.8238 219.437L83.8368 219.429C89.3888 216.105 91.8704 209.627 90.0884 203.464L90.08 203.435L90.0707 203.406C86.4875 191.976 84.7428 180.212 84.7428 168.443C84.7428 95.0261 152.988 34.6189 237.511 34.6189C322.132 34.6189 390.28 95.025 390.28 168.443C390.28 180.208 388.537 191.967 384.957 203.393C382.986 209.531 385.682 216.13 391.156 219.425L391.172 219.435L391.189 219.445C422.027 237.44 440.193 267.421 440.193 299.483V299.485V299.487C440.312 352.221 391.086 395.731 329.779 395.731H257.417V253.832L321.676 194.668V194.667C327.371 189.418 327.669 180.712 322.376 175.155C317.101 169.519 308.337 169.226 302.753 174.5C302.748 174.504 302.744 174.509 302.737 174.513ZM467.999 299.37C468.123 260.644 448.096 224.746 414.346 201.376C416.862 190.573 418.086 179.506 418.086 168.446C418.186 79.1227 336.831 7 237.511 7C138.189 7 56.9366 79.1245 56.9366 168.443C56.9366 179.529 58.2553 190.511 60.6937 201.365C26.9073 224.739 7 260.644 7 299.483C7 368.107 69.3437 423.447 145.341 423.447H229.612V551.19C229.612 558.785 235.838 565 243.504 565C251.16 565 257.417 558.794 257.417 551.19V423.35H329.779C405.778 423.35 467.992 368.01 467.999 299.37Z' fill='%23295A4C' stroke='%23295A4C' stroke-width='14'/%3e %3c/svg%3e"},function(e,t,r){"use strict";function n(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){var n,o;n=e,t=r[o=t],o in n?Object.defineProperty(n,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){var t=e.env,r=e.url,n=e.query,i=e.apiKey,s=e.options,c=void 0===(e=e.done)?function(){}:e;r&&i&&(e=a[t||"production"],t="",n&&(t="?"+new URLSearchParams(n).toString()),fetch("".concat(e,"/sdk/v1/").concat(r).concat(t),o({method:"GET",headers:{"X-App-Key":i,"Content-Type":"application/json"},query:n},s)).then((function(e){return e.json().then((function(t){return o({statusCode:e.status},t)}))})).then((function(e){400<=e.statusCode&&e.message&&console.error("Flytree Widget: "+e.message),c(e)})).catch((function(e){console.error("Flytree Widget: "+e.message),c({error:e})})))}r.r(t);var a={development:"http://localhost:3005",staging:"https://flytree-api-staging.herokuapp.com",production:"https://flytree-api-production.herokuapp.com"},s=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;(e=void 0===(e=t.shopId)?"":e)&&(e=e.replace(/\s+/g,"-").toLowerCase(),i(o(o({},t),{},{done:r,url:"shops/".concat(e)})))},c=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,r=e.shopId;void 0!==r&&r&&i(o(o({},e),{},{done:t,url:"reviews"}))},l=r(6);t=r.n(l);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return(u=f()?Reflect.construct:function(e,t,r){var n=[null];return n.push.apply(n,t),n=new(Function.bind.apply(e,n)),r&&h(n,r.prototype),n}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=document.createElement("template");function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}w.innerHTML="\n  <style>".concat(t.a.toString(),'</style>\n  <div id="wrapper">\n    <div class="top-line"></div>\n    <div id="content">\n      <div class="name"></div>\n      <div class="rating-wrapper">\n        <div class="rating"></div>\n        <div class="stars"></div>\n      </div>\n      <div class="reviews"></div>\n      <div class="chevron"></div>\n    </div>\n  </div>\n'),l=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)}(e)}(HTMLElement));var e,t,r=function(e){var t=f();return function(){var r,n=v(e);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=v(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r.call(this)}return e=n,(t=[{key:"renderProfile",value:function(e,t){if(t){var r="https://www.flytree.co/business/"+t.code;this.onclick=function(e){e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,window.open(r,"_blank")};var n=e.querySelector("#content .name"),o=e.querySelector("#content .rating"),i=e.querySelector("#content .stars"),a=e.querySelector("#content .reviews");n.innerHTML=t.name;var s=parseFloat(t.rating||0);if(0<s){o.innerHTML=t.rating;for(var c=0;c<5;c++){var l=document.createElement("span");s-c<1?.15<s-c?l.classList.add("half"):l.classList.add("none"):l.classList.add("full"),i.appendChild(l)}}t=parseInt(t.totalReviews||0),a.innerHTML=1<t?t+" Reviews":t+" Review"}else e.innerHTML=""}},{key:"connectedCallback",value:function(){var e=this,t=document.createElement("div");this.parentDOM=t,this.appendChild(t),t.appendChild(w.content.cloneNode(!0));var r=this.getAttribute("shop-id"),n=this.getAttribute("api-key");if(!r||!n)return this.renderProfile(t,null),void console.info("Hello!! Please use correct API Key and Shop ID");s({apiKey:n,shopId:r,env:this.getAttribute("env")},(function(){return e.renderProfile(t,(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).shop)}))}}])&&d(e.prototype,t),n}(),t=r(7),t=r.n(t);var b=document.createElement("template");b.innerHTML="\n  <style>".concat(t.a.toString(),'</style>\n  <div id="modal-wrapper">\n    <div id="modal-overlay"></div>\n    <div id="modal-content">\n      <div class="header">\n        <div class="shop">\n          <div class="avatar"></div>\n          <div class="info">\n            <div class="name"></div>\n            <div class="rating-wrapper">\n              <div class="rating"></div>\n              <div class="stars"></div>\n            </div>\n            <div class="review-count"></div>\n          </div>\n        </div>\n        <div class="dismiss-btn"></div>\n      </div>\n      <div class="controls">\n        <select class="sort">\n          <option value="newest">Newest</option>\n          <option value="highest">Highest</option>\n          <option value="lowest">Lowest</option>\n        </select>\n      </div>\n      <div class="reviews"></div>\n      <a href="https://www.flytree.co/" target="_blank" class="footer">\n        Powered by flytree\n      </a>\n    </div>\n  </div>\n');var x=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60},{label:"second",seconds:1}],k=function(){function e(t){var r=t.env,n=t.shop,o=t.apiKey;t=t.onDismiss;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=1,this.env=r,this.shop=n,this.reviews=[],this.apiKey=o,this.onDismiss=t}var t,r;return t=e,(r=[{key:"fetchReviews",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).loadMore,t=this;t.loading||(t.loading=!0,c({env:t.env,apiKey:t.apiKey,shopId:t.shop.id,query:{limit:20,page:t.page||1,sort:t.sort||"newest"}},(function(r){r.reviews&&(t.reviews=e?[].concat(m(t.reviews),m(r.reviews)):r.reviews,r.paginator&&(t.nextPage=r.paginator.nextPage),t.renderReviews({scrollTop:!e}),t.loading=!1)})))}},{key:"renderReviews",value:function(e){var t,r,n=e.scrollTop,o=this,i=this.shop,a=(e=this.reviews,this.parentDOM.querySelector(".reviews"));a.innerHTML="",e.forEach((function(e){e=o.renderReview(a,{shop:i,review:e}),r=r||e,t=e})),r&&n&&r.scrollIntoView(!0),e.length<1||(a.onscroll=function(){var e=a.offsetHeight,r=a.scrollTop;t.offsetTop<r+e+80&&!o.loading&&o.nextPage&&(o.page+=1,o.fetchReviews({loadMore:!0}))})}},{key:"renderReview",value:function(e,t){var r=t.shop,n=t.review,o=document.createElement("review-template");o.innerHTML='\n  <div class="review">\n    <div class="meta">\n      <div class="avatar"></div>\n      <div class="info">\n        <div class="name"></div>\n        <div class="rating-wrapper">\n          <div class="stars"></div>\n          <div class="time"></div>\n        </div>\n      </div>\n      <div class="channel"></div>\n    </div>\n    <div class="feedback">\n      <div class="message"></div>\n      <div class="reply-wrapper">\n        <div class="replyfrom"></div>\n        <div class="reply"></div>\n      </div>\n    </div>\n  </div>\n';var i=o.querySelector(".name"),a=n.firstName;a=/qrcode/i.test(n.firstName)?"Anonymous":n.firstName.replace(/^\w/,(function(e){return e.toUpperCase()})).split(" ")[0],i.innerHTML=a,(t=o.querySelector(".avatar")).innerHTML="",n.avatar?((i=document.createElement("img")).src=n.avatar,t.appendChild(i)):(a=a.substring(0,1).toUpperCase(),(c=document.createElement("span")).innerHTML=a,t.appendChild(c));var s;t=o.querySelector(".stars");this.renderStars({starsDOM:t,rating:parseInt(n.rating||0)}),o.querySelector(".time").innerHTML=(c=new Date(n.reviewedAt),s=Math.floor((Date.now()-c.getTime())/1e3),t=x.find((function(e){return e.seconds<s})),c=Math.floor(s/t.seconds),"".concat(c," ").concat(t.label).concat(1!==c?"s":""," ago"));t=o.querySelector(".channel");var c=document.createElement("span");return t.innerHTML="",c.classList.add(n.channel),t.appendChild(c),o.querySelector(".message").innerHTML=n.message||"",n.reply&&(t=o.querySelector(".replyfrom"),c=o.querySelector(".reply"),t.innerHTML="Response from ".concat(r.name),c.innerHTML=n.reply),e.appendChild(o),o}},{key:"renderHeader",value:function(){var e=this,t=this.shop,r=this.parentDOM,n=r.querySelector(".shop"),o=(r.querySelector(".reviews"),r.querySelector(".avatar"));o.innerHTML="";var i,a=t.logo||t.avatar;a?((i=document.createElement("img")).src=a,o.appendChild(i)):(i=t.name.substring(0,1).toUpperCase(),(s=document.createElement("span")).innerHTML=i,o.appendChild(s)),n.querySelector(".name").innerHTML=(o=t.name)&&(o+="").trim().toLowerCase().replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))}));var s=r.querySelector(".controls .sort");s.onchange=function(t){t=t.target.value,e.page=1,function(t){t=t.sort,e.page=1,e.sort=t,e.nextPage=2,e.loading=!1,e.fetchReviews()}({sort:e.sort=t})},o=n.querySelector(".stars"),s=n.querySelector(".rating"),this.renderStars({starsDOM:o,ratingDOM:s,rating:parseFloat(t.rating||0).toFixed(1)}),n=n.querySelector(".review-count"),t=parseInt(t.totalReviews||0),n.innerHTML="".concat(t," Reviews");t=function(t){t.stopImmediatePropagation(),t.preventDefault(),t.returnValue=!1,c.classList.remove("opened"),e.onDismiss()};var c=this.parentDOM.querySelector("#modal-wrapper");r.querySelector(".dismiss-btn").onclick=t,this.parentDOM.querySelector("#modal-overlay ").onclick=t}},{key:"renderStars",value:function(e){var t=e.rating,r=e.starsDOM;e=e.ratingDOM;r.innerHTML="",e&&(e.innerHTML=t);for(var n=0;n<5;n++){var o=document.createElement("span");t-n<1?.15<t-n?o.classList.add("half"):o.classList.add("none"):o.classList.add("full"),r.appendChild(o)}}},{key:"getContent",value:function(){var e=document.createElement("div");if(e.appendChild(b.content.cloneNode(!0)),this.parentDOM=e,this.shop&&this.reviews)return this.renderHeader(),this.fetchReviews(),e;e.innerHTML=""}}])&&y(t.prototype,r),e}();t=r(8),t=r.n(t);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){var n,o;n=e,t=r[o=t],o in n?Object.defineProperty(n,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t,r){return(P=D()?Reflect.construct:function(e,t,r){var n=[null];return n.push.apply(n,t),n=new(Function.bind.apply(e,n)),r&&E(n,r.prototype),n}).apply(null,arguments)}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=document.createElement("template");T.innerHTML="\n  <style>".concat(t.a.toString(),'</style>\n  <div id="wrapper" class="dismissed">\n    <div id="content">\n      <div class="avatar"></div>\n      <div class="review-wrapper">\n        <div class="name-wrapper">\n          <span class="name"></span>\n          <span class="rating-str"></span>\n        </div>\n        <div class="review"></div>\n        <div class="full-review"></div>\n        <div class="rating-wrapper">\n          <div class="stars"></div>\n          <div class="channel"></div>\n          <div class="powered"></div>\n        </div>\n      </div>\n    <div class="dismiss"></div>\n\n    </div>\n    <div id="controls">\n      <div class="flytreePowered">\n        <a href="https://www.flytree.co" target="_blank">Powered by flytree</a>\n      </div>\n      <div class="seemore">See more reviews</div>\n    </div>\n  </div>\n'),t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return P(e,arguments,H(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,e)}(e)}(HTMLElement));var e,t,r=function(e){var t=D();return function(){var r,n=H(e);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=H(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r.call(this)).timer=null,e}return e=n,(t=[{key:"renderReview",value:function(e,t){try{var r=this,n=t.shop,o=t.reviews,i=e.querySelector(".name"),a=i.getAttribute("data-arridx"),s=(_=parseInt(a||-1)+1,_=o.length<=_?0:_),c=o[s];if(!c)return;var l=e.querySelector("#wrapper"),p=sessionStorage.getItem("ftrWidgetDismissAt");if((!p||36e5<+new Date-p)&&(sessionStorage.removeItem("ftrWidgetDismissAt"),l.classList.remove("dismissed")),a+""==s+"")return;if(i.setAttribute("data-arridx",s),/qrcode/i.test(c.firstName)||(c.message+"").length<1)return this.renderReview(e,t);var d=e.querySelector("#content"),u=e.querySelector(".stars"),f=e.querySelector(".review"),h=e.querySelector(".full-review"),v=e.querySelector(".avatar"),w=e.querySelector(".channel"),m=e.querySelector(".dismiss"),g=e.querySelector(".seemore"),y=e.querySelector(".rating-str");m.onclick=function(e){l.classList.add("dismissed"),sessionStorage.setItem("ftrWidgetDismissAt",+new Date),r.timer&&clearTimeout(r.timer)};var b=function(){r.modalDOM.querySelector("#modal-wrapper").classList.add("opened")};this.modalDOM&&"popup"===n.widgetStyle&&(d.classList.add("popup"),d.onclick=function(e){e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,b()});var x="https://www.flytree.co/business/"+n.code;g.onclick=function(e){e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,r.modalDOM&&"popup"===n.widgetStyle?b():window.open(x,"_blank")};var k,L,O,j=/qrcode/i.test(c.firstName),C=S(c.firstName.replace(/^\w/,(function(e){return e.toUpperCase()})).split(" "),1)[0];i.innerHTML=j?"Customer":C,v.innerHTML="",c.avatar||j?((k=document.createElement("img")).src=j?"https://ik.imagekit.io/flytree/flytree-icon/png/Icon_feYshQ6tna7.png":c.avatar,v.appendChild(k)):(L=c.firstName.substring(0,1).toUpperCase(),(O=document.createElement("span")).innerHTML=L,v.appendChild(O));var M=parseFloat(c.rating||0);if(u.innerHTML="",0<M){y.innerHTML="just left us a ".concat(M," star review");for(var P=0;P<5;P++){var D=document.createElement("span");M-P<1?.15<M-P?D.classList.add("half"):D.classList.add("none"):D.classList.add("full"),u.appendChild(D)}}var E="internal"!==c.channel?c.channel.replace(/^\w/,(function(e){return e.toUpperCase()})):"flytree";w.innerHTML="on ".concat(E);var H=c.message.trim().substring(0,39),T=40<c.message.trim().length?"...":"";f.innerHTML=H+T,h.innerHTML=c.message,this.cycleReview(e,t),l.onmouseover=function(){r.timer&&clearTimeout(r.timer)},l.onmouseout=function(){r.cycleReview(e,t)}}catch(e){console.error(e)}var _}},{key:"cycleReview",value:function(e,t,r){var n=this,o=e.querySelector("#wrapper"),i=function(){n.timer=setTimeout((function(){n.renderReview(e,t),o.classList.remove("slide-down"),o.classList.add("slide-up")}),1e3*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:9))};r?(n.timer&&clearTimeout(n.timer),i(0)):n.timer=setTimeout((function(){o.classList.remove("slide-up"),o.classList.add("slide-down"),i()}),1e4)}},{key:"randomizeReviews",value:function(e,t){var r,n,o;t&&t.shop&&t.reviews&&!(t.reviews.length<1)?(sessionStorage.removeItem("ftrWidgetDismissAt"),this.cycleReview(e,t,!0),n=(r=this).getAttribute("env"),o=this.getAttribute("api-key"),"popup"!==t.shop.widgetStyle||(o=new k(j(j({},t),{},{env:n,apiKey:o,onDismiss:function(){r.cycleReview(e,t,!0)}})).getContent())&&(this.modalDOM=o,e.appendChild(o))):e.innerHTML=""}},{key:"connectedCallback",value:function(){var e,t,r,n=this;window&&!window.ftrReviewBadge&&(e=document.createElement("div"),window.ftrReviewBadge=e,this.parentDOM=e,this.appendChild(e),e.appendChild(T.content.cloneNode(!0)),t=this.getAttribute("shop-id"),r=this.getAttribute("api-key"),t&&r?s({apiKey:r,shopId:t,env:this.getAttribute("env")},(function(t){setTimeout((function(){return n.randomizeReviews(e,t)}),4e3)})):console.info("Hello!! Please use correct API Key and Shop ID"))}}])&&M(e.prototype,t),n}(),customElements.define("ftr-shop-badge",l),customElements.define("ftr-review-badge",t)}]).default}));