!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["flytree-widget"]=t():e["flytree-widget"]=t()}(window,(function(){return function(e){var t=window.webpackHotUpdateflytree_widget;window.webpackHotUpdateflytree_widget=function(e,r){!function(e,t){if(b[e]&&m[e]){for(var r in m[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(f[r]=t[r]);0==--w&&0===y&&j()}}(e,r),t&&t(e,r)};var r,n=!0,o="be54b60d9f737eafbad3",i={},a=[],c=[];function s(e){var t=_[e];if(!t)return E;function n(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(a=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),a=[]),E(n)}for(var o in E)Object.prototype.hasOwnProperty.call(E,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,function(e){return{configurable:!0,enumerable:!0,get:function(){return E[e]},set:function(t){E[e]=t}}}(o));return n.e=function(e){return"ready"===l&&d("prepare"),y++,E.e(e).then(t,(function(e){throw t(),e}));function t(){y--,"prepare"===l&&(g[e]||O(e),0===y&&0===w&&j())}},n.t=function(e,t){return 1&t&&(e=n(e)),E.t(e,-2&t)},n}var p=[],l="idle";function d(e){l=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var u,f,h,v,w=0,y=0,g={},m={},b={};function x(e){return+e+""===e?+e:e}function k(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return n=e,d("check"),t=(t=1e4)||1e4,new Promise((function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=E.p+""+o+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(t){return void r(t)}e(t)}}})).then((function(e){return e?(m={},g={},b=e.c,h=e.h,d("prepare"),e=new Promise((function(e,t){u={resolve:e,reject:t}})),f={},O(0),"prepare"===l&&0===y&&0===w&&j(),e):(d(P()?"ready":"idle"),null)}));var t}function O(e){var t,r;b[e]?(m[e]=!0,w++,t=e,(r=document.createElement("script")).charset="utf-8",r.src=E.p+""+t+"."+o+".hot-update.js",document.head.appendChild(r)):g[e]=!0}function j(){d("ready");var e=u;if(u=null,e)if(n)Promise.resolve().then((function(){return L(n)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t,r=[];for(t in f)Object.prototype.hasOwnProperty.call(f,t)&&r.push(x(t));e.resolve(r)}}function L(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");return function t(n){var c,s,p,l;function u(e){for(var t=[e],r={},n=t.map((function(e){return{chain:[e],id:e}}));0<n.length;){var o=n.pop(),i=o.id,a=o.chain;if((l=_[i])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<l.parents.length;c++){var s=l.parents[c],p=_[s];if(p){if(p.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(p.hot._acceptedDependencies[i]?(r[s]||(r[s]=[]),w(r[s],[i])):(delete r[s],t.push(s),n.push({chain:a.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}P();var y={},g=[],m={},k=function(){console.warn("[HMR] unexpected require("+j.moduleId+") to disposed module")};for(var O in f)if(Object.prototype.hasOwnProperty.call(f,O)){var j;I=x(O);var L=!1,S=!1,M=!1,D="";switch((j=f[O]?u(I):{type:"disposed",moduleId:O}).chain&&(D="\nUpdate propagation: "+j.chain.join(" -> ")),j.type){case"self-declined":n.onDeclined&&n.onDeclined(j),n.ignoreDeclined||(L=new Error("Aborted because of self decline: "+j.moduleId+D));break;case"declined":n.onDeclined&&n.onDeclined(j),n.ignoreDeclined||(L=new Error("Aborted because of declined dependency: "+j.moduleId+" in "+j.parentId+D));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(j),n.ignoreUnaccepted||(L=new Error("Aborted because "+I+" is not accepted"+D));break;case"accepted":n.onAccepted&&n.onAccepted(j),S=!0;break;case"disposed":n.onDisposed&&n.onDisposed(j),M=!0;break;default:throw new Error("Unexception type "+j.type)}if(L)return d("abort"),Promise.reject(L);if(S)for(var I in m[I]=f[I],w(g,j.outdatedModules),j.outdatedDependencies)Object.prototype.hasOwnProperty.call(j.outdatedDependencies,I)&&(y[I]||(y[I]=[]),w(y[I],j.outdatedDependencies[I]));M&&(w(g,[j.moduleId]),m[I]=k)}var H,R=[];for(s=0;s<g.length;s++)I=g[s],_[I]&&_[I].hot._selfAccepted&&m[I]!==k&&!_[I].hot._selfInvalidated&&R.push({module:I,parents:_[I].parents.slice(),errorHandler:_[I].hot._selfAccepted});d("dispose"),Object.keys(b).forEach((function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)}));for(var T,A,C=g.slice();0<C.length;)if(I=C.pop(),l=_[I]){var z={},q=l.hot._disposeHandlers;for(p=0;p<q.length;p++)(c=q[p])(z);for(i[I]=z,l.hot.active=!1,delete _[I],delete y[I],p=0;p<l.children.length;p++){var F=_[l.children[p]];F&&0<=(H=F.parents.indexOf(I))&&F.parents.splice(H,1)}}for(I in y)if(Object.prototype.hasOwnProperty.call(y,I)&&(l=_[I]))for(A=y[I],p=0;p<A.length;p++)T=A[p],0<=(H=l.children.indexOf(T))&&l.children.splice(H,1);for(I in d("apply"),void 0!==h&&(o=h,h=void 0),f=void 0,m)Object.prototype.hasOwnProperty.call(m,I)&&(e[I]=m[I]);var U=null;for(I in y)if(Object.prototype.hasOwnProperty.call(y,I)&&(l=_[I])){A=y[I];var B=[];for(s=0;s<A.length;s++)T=A[s],(c=l.hot._acceptedDependencies[T])&&-1===B.indexOf(c)&&B.push(c);for(s=0;s<B.length;s++){c=B[s];try{c(A)}catch(t){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:I,dependencyId:A[s],error:t}),n.ignoreErrored||(U=U||t)}}}for(s=0;s<R.length;s++){var N=R[s];I=N.module,a=N.parents,r=I;try{E(I)}catch(c){if("function"==typeof N.errorHandler)try{N.errorHandler(c)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:I,error:t,originalError:c}),U=(U=n.ignoreErrored?U:U||t)||c}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:I,error:c}),n.ignoreErrored||(U=U||c)}}return U?(d("fail"),Promise.reject(U)):v?t(n).then((function(e){return g.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(d("idle"),new Promise((function(e){e(g)})))}(t=t||{})}function P(){return v&&(f=f||{},v.forEach(S),v=void 0,1)}function S(t){Object.prototype.hasOwnProperty.call(f,t)||(f[t]=e[t])}var _={};function E(t){if(_[t])return _[t].exports;var n,o,u=_[t]={i:t,l:!1,exports:{},hot:(o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:r!==(n=t),active:!0,accept:function(e,t){if(void 0===e)o._selfAccepted=!0;else if("function"==typeof e)o._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)o._acceptedDependencies[e[r]]=t||function(){};else o._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)o._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)o._declinedDependencies[e[t]]=!0;else o._declinedDependencies[e]=!0},dispose:function(e){o._disposeHandlers.push(e)},addDisposeHandler:function(e){o._disposeHandlers.push(e)},removeDisposeHandler:function(e){0<=(e=o._disposeHandlers.indexOf(e))&&o._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":(f={})[n]=e[n],d("ready");break;case"ready":S(n);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(n)}},check:k,apply:L,status:function(e){if(!e)return l;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){0<=(e=p.indexOf(e))&&p.splice(e,1)},data:i[n]},r=void 0,o),parents:(c=a,a=[],c),children:[]};return e[t].call(u.exports,u,u.exports,s(t)),u.l=!0,u.exports}return E.m=e,E.c=_,E.d=function(e,t,r){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(e,t){if(1&t&&(e=E(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(E.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)E.d(r,n,function(t){return e[t]}.bind(null,n));return r},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="",E.h=function(){return o},s(9)(E.s=9)}([function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];return n?t&&"function"==typeof btoa?(e=function(e){return e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(e," */")}(n),t=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")})),[r].concat(t).concat([e]).join("\n")):[r].join("\n"):r}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);n&&o[s[0]]||(r&&(s[2]?s[2]="".concat(r," and ").concat(s[2]):s[2]=r),t.push(s))}},t}},function(e,t,r){"use strict";e.exports=function(e,t){return t=t||{},"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/svg+xml,%3csvg width='14' height='13' viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23F5F6F8' stroke='%23F5F6F8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg width='14' height='13' viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cg clip-path='url(%23clip0)'%3e %3crect width='7' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23E8C547' stroke='%23E8C547' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/g%3e %3cg clip-path='url(%23clip1)'%3e %3crect width='7' height='13' transform='translate(7)' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23F5F6F8' stroke='%23F5F6F8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0'%3e %3crect width='7' height='13' fill='white'/%3e %3c/clipPath%3e %3cclipPath id='clip1'%3e %3crect width='7' height='13' fill='white' transform='translate(7)'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg width='14' height='13' viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23E8C547' stroke='%23E8C547' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t,r){var n=r(0),o=r(1),i=r(7),a=r(2),c=r(3);r=r(4);t=n(!1),i=o(i),a=o(a),c=o(c),r=o(r),t.push([e.i,"#wrapper div{display:block;background:#fff}#wrapper{left:0;bottom:2vh;z-index:999;display:block;position:fixed;min-width:200px;max-width:320px;color:#1d1d1d;font-style:normal;font-family:sans-serif,Open Sans}#wrapper .top-line{height:8px;background-color:#295a4c}#content{cursor:pointer;font-size:13px;line-height:21px;padding:13px 25px 13px 17px;border-top:1px solid #ebeff2;border-right:1px solid #ebeff2;border-bottom:1px solid #ebeff2}#content .name{font-size:15px;line-height:24px}#content .reviews{color:#8a9f99}#content .rating-wrapper{display:flex}#content .chevron{top:48%;right:5px;width:16px;height:16px;opacity:.5;position:absolute;background-size:contain;background:url("+i+") no-repeat 0 0}#content:hover .chevron{opacity:1}#content .stars{margin:0 10px}#content .stars span{width:16px;height:16px;display:inline-block}#content .stars span.none{background-size:contain;background:url("+a+") no-repeat 0 0}#content .stars span.half{background-size:contain;background:url("+c+") no-repeat 0 0}#content .stars span.full{background-size:contain;background:url("+r+") no-repeat 0 0}",""]),e.exports=t},function(e,t,r){var n=r(0),o=r(1),i=r(2),a=r(3),c=r(4);r=r(8);(t=n(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;600&display=swap);"]),i=o(i),a=o(a),c=o(c),r=o(r),t.push([e.i,"#wrapper{left:12px;width:352px;bottom:-100px;min-width:auto;z-index:999;display:block;position:fixed;color:#1d1d1d;font-style:normal;font-family:Roboto,sans-serif;font-weight:300}@media (max-width:600px){#wrapper{max-width:calc(100% - 24px)}}#wrapper #content{position:relative;display:flex;cursor:pointer;font-size:13px;color:#505050;line-height:21px;background:#fff;border-radius:16px;box-shadow:0 2px 15px -2px rgba(60,60,60,.25)}#wrapper #content .avatar{width:64px;height:64px;margin:10px;display:flex}#wrapper #content .avatar img{width:100%;height:100%;border-radius:100%;-o-object-fit:contain;object-fit:contain}#wrapper #content .avatar span{width:100%;height:100%;color:#fff;font-size:16px;font-weight:400;border-radius:100%;background:#295a4c;display:flex;align-items:center;justify-content:center}@media (max-width:600px){#wrapper #content .avatar{width:24px;height:24px}#wrapper #content .avatar span{font-size:14px}#wrapper #content .review{display:none}}#wrapper #content .review-wrapper{flex:1;padding:10px 0}#wrapper #content .review-wrapper .name-wrapper{font-weight:400;display:block;font-size:14px;padding-right:6px;box-sizing:border-box}#wrapper #content .review-wrapper .name{color:#5cc0eb;font-weight:600;margin-right:3px}#wrapper #content .review-wrapper .rating-str{color:#1d1d1d}#wrapper #content .review-wrapper .review{margin:3px 0 2px;font-weight:300}#wrapper #content .review-wrapper .rating-wrapper{display:flex;font-size:11px;font-weight:300;align-items:center}#wrapper #content .review-wrapper .channel{color:#8a9f99;flex:1}#wrapper #content .review-wrapper .stars{margin:5px 5px 0 0}#wrapper #content .review-wrapper .stars span{width:14px;height:13px;display:inline-block}#wrapper #content .review-wrapper .stars span.none{background-size:cover;background:url("+i+") no-repeat 0 0;margin-right:2px}#wrapper #content .review-wrapper .stars span.half{background-size:cover;background:url("+a+") no-repeat 0 0;margin-right:2px}#wrapper #content .review-wrapper .stars span.full{background-size:cover;background:url("+c+") no-repeat 0 0;margin-right:2px}#wrapper .dismiss{position:absolute;left:0;top:-12px;padding:2px;border-radius:28px;opacity:0;width:20px;height:20px;background-size:contain;background:url("+r+") no-repeat 50%;background-color:#fff;transition:all .1s linear;-webkit-transition:all .1s linear}#wrapper .dismiss:hover{background-color:#d3d3d3}#wrapper #controls{height:0;opacity:0;display:flex;overflow:hidden;margin-top:13px;align-items:flex-end;justify-content:flex-end;transition:all .2s linear;-webkit-transition:all .2s linear;width:100%;position:relative}#wrapper #controls .seemore{position:absolute;right:0;padding:10px 16px;color:#295a4c;background:#fff;cursor:pointer;font-size:12px;border-radius:16px;border:1px solid #295a4c;box-shadow:0 2px 15px -2px rgba(60,60,60,.25)}#wrapper #controls .seemore:hover{color:#fff;background-color:#295a4c}#wrapper #controls .flytreePowered{font-size:12px;position:absolute;left:0;padding:12px;text-shadow:0 5px 20px rgba(60,60,60,.25)}#wrapper #controls .flytreePowered a{text-decoration:none;color:#295a4c}#wrapper #controls .flytreePowered a:hover{text-decoration:underline}#wrapper .full-review{opacity:0;height:0}#wrapper:hover{padding:32px 32px 0 0}#wrapper:hover .dismiss{opacity:1}#wrapper:hover #controls{height:40px;opacity:1}#wrapper:hover .full-review{opacity:1;height:auto;margin:6px 10px 10px 0}#wrapper:hover .review{display:none}#wrapper.dismissed{height:0;overflow:hidden}#wrapper.slide-down{bottom:-160px;transition:bottom .5s linear}#wrapper.slide-up{bottom:12px;transition:bottom .5s cubic-bezier(.68,-.55,.265,1.55)}",""]),e.exports=t},function(e,t){e.exports="data:image/svg+xml,%3csvg width='8' height='14' viewBox='0 0 8 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M1 13L7 7L1 1' stroke='%23295A4C' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M9 1L1 9' stroke='%238A9F99' stroke-linecap='round' stroke-linejoin='round'/%3e %3cpath d='M1 1L9 9' stroke='%238A9F99' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t,r){"use strict";function n(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){var n,o;n=e,t=r[o=t],o in n?Object.defineProperty(n,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){var t=e.env,r=e.url,n=e.apiKey,i=e.options,c=void 0===(e=e.done)?function(){}:e;r&&n&&fetch("".concat(a[t||"production"],"/sdk/v1/").concat(r),o({method:"GET",headers:{"X-App-Key":n,"Content-Type":"application/json"}},i)).then((function(e){return e.json().then((function(t){return o({statusCode:e.status},t)}))})).then((function(e){400<=e.statusCode&&e.message&&console.error("Flytree Widget: "+e.message),c(e)})).catch((function(e){console.error("Flytree Widget: "+e.message),c({error:e})}))}r.r(t);var a={development:"http://localhost:3005",staging:"https://flytree-api-staging.herokuapp.com",production:"https://flytree-api-production.herokuapp.com"},c=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;(e=void 0===(e=t.shopId)?"":e)&&(e=e.replace(/\s+/g,"-").toLowerCase(),i(o(o({},t),{},{done:r,url:"shops/".concat(e)})))},s=r(5);t=r.n(s);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return(d=u()?Reflect.construct:function(e,t,r){var n=[null];return n.push.apply(n,t),n=new(Function.bind.apply(e,n)),r&&f(n,r.prototype),n}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=document.createElement("template");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return(b=x()?Reflect.construct:function(e,t,r){var n=[null];return n.push.apply(n,t),n=new(Function.bind.apply(e,n)),r&&k(n,r.prototype),n}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}v.innerHTML="\n  <style>".concat(t.a.toString(),'</style>\n  <div id="wrapper">\n    <div class="top-line"></div>\n    <div id="content">\n      <div class="name"></div>\n      <div class="rating-wrapper">\n        <div class="rating"></div>\n        <div class="stars"></div>\n      </div>\n      <div class="reviews"></div>\n      <div class="chevron"></div>\n    </div>\n  </div>\n'),s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)}(e)}(HTMLElement));var e,t,r=function(e){var t=u();return function(){var r,n=h(e);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=h(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r.call(this)).attachShadow({mode:"open"}).appendChild(v.content.cloneNode(!0)),e}return e=n,(t=[{key:"renderProfile",value:function(e,t){if(t){var r="https://www.flytree.co/business/"+t.code;this.onclick=function(e){e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,window.open(r,"_blank")};var n=e.querySelector("#content .name"),o=e.querySelector("#content .rating"),i=e.querySelector("#content .stars"),a=e.querySelector("#content .reviews");n.innerHTML=t.name;var c=parseFloat(t.rating||0);if(0<c){o.innerHTML=t.rating;for(var s=0;s<5;s++){var p=document.createElement("span");c-s<1?.15<c-s?p.classList.add("half"):p.classList.add("none"):p.classList.add("full"),i.appendChild(p)}}t=parseInt(t.totalReviews||0),a.innerHTML=1<t?t+" Reviews":t+" Review"}else e.innerHTML=""}},{key:"connectedCallback",value:function(){var e=this,t=this.shadowRoot,r=this.getAttribute("shop-id"),n=this.getAttribute("api-key");if(!r||!n)return this.renderProfile(t,null),void console.info("Hello!! Please use correct API Key and Shop ID");c({apiKey:n,shopId:r,env:this.getAttribute("env")},(function(){return e.renderProfile(t,(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).shop)}))}}])&&l(e.prototype,t),n}(),t=r(6),t=r.n(t);var j=document.createElement("template");j.innerHTML="\n  <style>".concat(t.a.toString(),'</style>\n  <div id="wrapper" class="dismissed">\n    <div id="content">\n      <div class="avatar"></div>\n      <div class="review-wrapper">\n        <div class="name-wrapper">\n          <span class="name"></span>\n          <span class="rating-str"></span>\n        </div>\n        <div class="review"></div>\n        <div class="full-review"></div>\n        <div class="rating-wrapper">\n          <div class="stars"></div>\n          <div class="channel"></div>\n          <div class="powered"></div>\n        </div>\n      </div>\n    <div class="dismiss"></div>\n\n    </div>\n    <div id="controls">\n      <div class="flytreePowered"><a href="https://www.flytree.co">Powered by flytree</a></div>\n      <div class="seemore">See more reviews</div>\n    </div>\n  </div>\n'),t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return b(e,arguments,O(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,e)}(e)}(HTMLElement));var e,t,r=function(e){var t=x();return function(){var r,n=O(e);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=O(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r.call(this)).timer=null,e}return e=n,(t=[{key:"renderReview",value:function(e,t){try{var r=this,n=t.shop,o=t.reviews,i=e.querySelector(".name"),a=i.getAttribute("data-arridx"),c=(I=parseInt(a||-1)+1,I=o.length<=I?0:I),s=o[c];if(!s)return;var p=e.querySelector("#wrapper"),l=sessionStorage.getItem("ftrWidgetDismissAt");if((!l||36e5<+new Date-l)&&(sessionStorage.removeItem("ftrWidgetDismissAt"),p.classList.remove("dismissed")),a+""==c+"")return;i.setAttribute("data-arridx",c);var d=e.querySelector(".stars"),u=e.querySelector(".review"),f=e.querySelector(".full-review"),h=e.querySelector(".avatar"),v=e.querySelector(".channel"),w=e.querySelector(".dismiss"),g=e.querySelector(".seemore"),m=e.querySelector(".rating-str");w.onclick=function(e){p.classList.add("dismissed"),sessionStorage.setItem("ftrWidgetDismissAt",+new Date),r.timer&&clearTimeout(r.timer)};var b="https://www.flytree.co/business/"+n.code;g.onclick=function(e){e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,window.open(b,"_blank")};var x,k,O,j=/qrcode/i.test(s.firstName),L=y(s.firstName.replace(/^\w/,(function(e){return e.toUpperCase()})).split(" "),1)[0];i.innerHTML=j?"Customer":L,h.innerHTML="",s.avatar||j?((x=document.createElement("img")).src=j?"https://ik.imagekit.io/flytree/flytree-icon/png/Icon_feYshQ6tna7.png":s.avatar,h.appendChild(x)):(k=s.firstName.substring(0,1).toUpperCase(),(O=document.createElement("span")).innerHTML=k,h.appendChild(O));var P=parseFloat(s.rating||0);if(d.innerHTML="",0<P){m.innerHTML="just left us a ".concat(P," star review");for(var S=0;S<5;S++){var _=document.createElement("span");P-S<1?.15<P-S?_.classList.add("half"):_.classList.add("none"):_.classList.add("full"),d.appendChild(_)}}var E="internal"!==s.channel?s.channel.replace(/^\w/,(function(e){return e.toUpperCase()})):"flytree";v.innerHTML="on ".concat(E);var M=s.message.trim().substring(0,39),D=40<s.message.trim().length?"...":"";u.innerHTML=M+D,f.innerHTML=s.message,this.cycleReview(e,t),p.onmouseover=function(){r.timer&&clearTimeout(r.timer)},p.onmouseout=function(){r.cycleReview(e,t)}}catch(e){console.error(e)}var I}},{key:"cycleReview",value:function(e,t,r){var n=this,o=e.querySelector("#wrapper"),i=function(){n.timer=setTimeout((function(){n.renderReview(e,t),o.classList.remove("slide-down"),o.classList.add("slide-up")}),1e3*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:9))};r?i(0):n.timer=setTimeout((function(){o.classList.remove("slide-up"),o.classList.add("slide-down"),i()}),1e4)}},{key:"randomizeReviews",value:function(e,t){t&&t.shop&&t.reviews&&!(t.reviews.length<1)?(sessionStorage.removeItem("ftrWidgetDismissAt"),this.cycleReview(e,t,!0)):e.innerHTML=""}},{key:"connectedCallback",value:function(){var e=this,t=document.createElement("div");this.parentDOM=t,this.appendChild(t),t.appendChild(j.content.cloneNode(!0));var r=this.getAttribute("shop-id"),n=this.getAttribute("api-key");if(!r||!n)return this.renderProfile(t,null),void console.info("Hello!! Please use correct API Key and Shop ID");c({apiKey:n,shopId:r,env:this.getAttribute("env")},(function(r){e.randomizeReviews(t,r)}))}}])&&m(e.prototype,t),n}(),customElements.define("ftr-shop-badge",s),customElements.define("ftr-review-badge",t)}]).default}));